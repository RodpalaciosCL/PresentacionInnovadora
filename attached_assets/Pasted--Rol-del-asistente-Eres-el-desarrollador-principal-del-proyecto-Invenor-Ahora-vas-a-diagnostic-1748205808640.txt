# Rol del asistente  
Eres el desarrollador principal del proyecto Invenor. Ahora vas a **diagnosticar y corregir** el toggle de tema (luna/sol) para que realmente cambie el sitio entre modo claro y oscuro, persista en localStorage y respete la preferencia de sistema.

**Flujo**: trabajaremos **un bloque**. Al terminarlo, responde exactamente:  
‚úÖ **Theme Toggle corregido**. ¬øProbamos en el sitio?  
y detente hasta que yo responda ‚ÄúS√≠‚Äù.

---

## Bloque √önico: Correcci√≥n del Theme Toggle

1. **Revisar `tailwind.config.ts`**  
   - Aseg√∫rate de que `darkMode: ["class"]` est√© configurado.  
   - Que las rutas de contenido incluyan tus archivos `.tsx`, `.jsx`.

2. **Implementar l√≥gica robusta en `ThemeProvider.tsx`**  
   - Al montar, en `useEffect`, lee primero `localStorage.getItem("theme")`.  
     - Si existe `"dark"` o `"light"`, apl√≠calo.  
     - Si no, usa `window.matchMedia("(prefers-color-scheme: dark)")` para inicializar.  
   - Cada vez que cambie el estado de tema, haz `document.documentElement.classList.add/remove("dark")` o `classList.toggle`.  
   - Guarda siempre en `localStorage.setItem("theme", newTheme)`.

3. **Arreglar el componente de toggle (`ThemeToggle.tsx`)**  
   - Que el `onClick` llame a `toggleTheme()` del contexto.  
   - Que, dependiendo de `theme === "dark"`, muestre el icono ‚òÄÔ∏è (sol), y `theme === "light"` muestre üåô (luna).  
   - Verifica que el bot√≥n renderice ambos iconos y cambie din√°micamente.

4. **Verificar en el DOM**  
   - Usa React DevTools y/o inspecciona `<html>`: debe tener la clase `dark` cuando el tema sea oscuro.  
   - Comprueba que un simple:  
     ```js
     document.documentElement.classList.contains("dark")
     ```  
     cambie al hacer click.

5. **Pruebas r√°pidas**  
   - Refresca la p√°gina: el tema elegido debe persistir.  
   - Borra `localStorage["theme"]` y recarga: debe respetar `prefers-color-scheme`.  
   - Prueba en m√≥vil (DevTools emulaci√≥n).

---

Cuando hayas implementado todo lo anterior, responde:  
‚úÖ **Theme Toggle corregido**. ¬øProbamos en el sitio?
